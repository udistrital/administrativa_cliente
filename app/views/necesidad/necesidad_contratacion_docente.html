<!DOCTYPE html>
<html>
<div class="panel panel-primary panel-body" style="padding:30px;">

  <center>
    <h3 class="page-header">{{"SOLICITUD_NECESIDAD_CONTRATACION_DOCENTES" | translate}}</h3></center>

    <div>
      <div class="panel-body">

        <form name="solicitudform" class="form-horizontal" ng-submit="necesidadContratacionDocente.submitForm(solicitudform)" novalidate>


          <div align="center">
            <div class="form-group">
              <label class="radio-inline">
                <input type="radio" ng-model="value" value="duracion" ng-change="necesidadContratacionDocente.duracionEspecial(value)">{{"DURACION" | translate}}
              </label>
              <label class="radio-inline">
                <input type="radio" ng-model="value" value="unico_pago" ng-change="necesidadContratacionDocente.duracionEspecial(value)" ng-checked="true">{{"UNICO_PAGO" | translate}}
              </label>
              <label class="radio-inline">
                <input type="radio" ng-model="value" value="agotar_presupuesto" ng-change="necesidadContratacionDocente.duracionEspecial(value)">{{"HASTA_AGOTAR_PRESUPUESTO" | translate}}
              </label>
            </div>
          </div>
          <br />
          <div ng-show="necesidadContratacionDocente.ver_duracion_fecha">
            <div class="form-group">
              <label class="col-sm-1 control-label">{{"AÑOS" | translate}}</label>
              <div class="col-sm-3">
                <input type="text" class="form-control" placeholder="Años" maxlength="4" ng-model="necesidadContratacionDocente.anos" ng-change="necesidadContratacionDocente.calculo_total_dias()" onkeypress="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57"
                />

              </div>
              <label class="col-sm-1 control-label">{{"MESES" | translate}}</label>
              <div class="col-sm-3">
                <input type="text" class="form-control" placeholder="Meses" ng-model="necesidadContratacionDocente.meses" ng-change="necesidadContratacionDocente.calculo_total_dias()" onkeypress="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57"
                />
              </div>

              <label class="col-sm-1 control-label">{{"DIAS" | translate}}</label>
              <div class="col-sm-3">
                <input type="text" class="form-control" placeholder="Dias" ng-model="necesidadContratacionDocente.dias" ng-change="necesidadContratacionDocente.calculo_total_dias()" onkeypress="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57"
                />
              </div>
            </div>
          </div>
          <!-- Responsables -->
          <fieldset class="form-group">
            <legend class="text-primary" ng-click="necesidadContratacionDocente.validar_formu([necesidadContratacionDocente.dependencia_solicitante.Nombre, necesidadContratacionDocente.rol_ordenador_gasto], 0)">{{"RESPONSABLES" | translate}} <span class="fa fa-plus pull-right" ng-show="!info_responsables"></span> <span class="fa fa-minus pull-right" ng-show="info_responsables"></span></legend>

            <div class="panel-body" ng-show="info_responsables">

              <div class="col-sm-6">
                <label class="control-label">{{'DEPENDENCIA_SOLICITANTE' | translate}}</label>
                <span class="form-control">{{necesidadContratacionDocente.dependencia_solicitante.Nombre}}</span>
              </div>

              <div class="col-md-6">
                <label for="jefe_solicitante" class="control-label">{{"JEFE_DEPENDENCIA_SOLICITANTE" | translate}}</label>
                <span class="form-control">{{necesidadContratacionDocente.persona_solicitante.PrimerNombre}} {{necesidadContratacionDocente.persona_solicitante.SegundoNombre}} {{necesidadContratacionDocente.persona_solicitante.PrimerApellido}} {{necesidadContratacionDocente.persona_solicitante.SegundoApellido}}</span>
              </div>

              <!--div class="col-md-6">
                <label for="dep_destino" class="control-label">{{"DEPENDENCIA_DESTINO" | translate}}</label>
                <select class="form-control" ng-model="necesidadContratacionDocente.dependencia_destino" ng-options="depd.Id as depd.Nombre for depd in necesidadContratacionDocente.dependencia_data">
                  <option value="" disabled selected>{{"SELECCIONAR" | translate}} {{"DEPENDENCIA_DESTINO" | translate}}</option>
                </select>
              </div>

              <div class="col-md-6">
                <label for="jefe_solicitante" class="control-label">{{"JEFE_DEPENDENCIA_DESTINO" | translate}}</label>
                <span class="form-control">{{necesidadContratacionDocente.jefe_destino.PrimerNombre}} {{necesidadContratacionDocente.jefe_destino.SegundoNombre}} {{necesidadContratacionDocente.jefe_destino.PrimerApellido}} {{necesidadContratacionDocente.jefe_destino.SegundoApellido}}</span>
              </div-->

              <div class="col-md-6">
                <label for="ordenador_gasto" class="control-label">{{"ROL" | translate}} {{"ORDENADOR_GASTO" | translate}}</label>
                <select class="form-control" ng-model="necesidadContratacionDocente.rol_ordenador_gasto" ng-options="ord.DependenciaId as ord.Cargo for ord in necesidadContratacionDocente.ordenador_gasto_data">
                  <option value="" disabled selected>{{"SELECCIONAR" | translate}} {{"ROL" | translate}} {{"ORDENADOR_GASTO" | translate}}</option>
                </select>
              </div>

              <div class="col-md-6">
                <label for="rol_ordenador_gasto" class="control-label">{{"ORDENADOR_GASTO" | translate}}</label>
                <span class="form-control">{{necesidadContratacionDocente.ordenador_gasto.PrimerNombre}} {{necesidadContratacionDocente.ordenador_gasto.SegundoNombre}} {{necesidadContratacionDocente.ordenador_gasto.PrimerApellido}} {{necesidadContratacionDocente.ordenador_gasto.SegundoApellido}}</span>
              </div>
            </div>
          </fieldset>

          <!--  General -->
          <fieldset class="form-group">
            <legend class="text-primary" ng-click="necesidadContratacionDocente.validar_formu([necesidadContratacionDocente.necesidad.PlanAnualAdquisiciones], 1);">{{"GENERAL" | translate}}
            <span class="fa fa-plus pull-right" ng-show="!info_general"></span> <span class="fa fa-minus pull-right" ng-show="info_general"></span>
          </legend>

          <div class="panel-body" ng-show="info_general">


            <div class="form-group">
              <small>*{{"OBLIGATORIO" | translate}}</small><br>
              <label class="control-label">{{"PLAN_ANUAL_ADQUISICIONES" | translate}}</label>
              <select class="form-control" ng-model="necesidadContratacionDocente.necesidad.PlanAnualAdquisiciones" ng-options="pa.Id as pa.Nombre for pa  in necesidadContratacionDocente.planes_anuales" required>
                <option value="" disabled selected>{{"SELECCIONAR" | translate}} {{"PLAN_ANUAL_ADQUISICIONES" | translate}}</option>
              </select>
            </div>

            <div class="form-group">
              <label class="control-label">{{"UNIDAD_EJECUTORA" | translate}}</label>
              <span class="form-control">1 - {{"RECTOR" | translate}}</span>

            </div>

            <div class="form-group">
              <label for="supervisor" class="control-label">{{"SUPERVISOR" | translate}}</label>
              <span class="form-control">{{necesidadContratacionDocente.ordenador_gasto.PrimerNombre}} {{necesidadContratacionDocente.ordenador_gasto.SegundoNombre}} {{necesidadContratacionDocente.ordenador_gasto.PrimerApellido}} {{necesidadContratacionDocente.ordenador_gasto.SegundoApellido}}</span>

            </div>
          </div>
        </fieldset>

        <!-- Objeto contractual -->
        <fieldset class="form-group">
          <legend class="text-primary" ng-click="necesidadContratacionDocente.validar_formu([necesidadContratacionDocente.necesidad.Objeto, necesidadContratacionDocente.necesidad.Justificacion], 2);">
            {{"OBJETO_NECESIDAD" | translate}}<span class="fa fa-plus pull-right" ng-show="!info_objeto"></span> <span class="fa fa-minus pull-right" ng-show="info_objeto"></span></legend>

          <div class="panel-body" ng-show="info_objeto">

            <div class="form-group">
              <small>*{{"OBLIGATORIO" | translate}}</small><br>
              <label for="objeto" class="control-label">{{"OBJETO_NECESIDAD" | translate}}</label>
              <textarea type="text" class="form-control" rows="6" maxlength="800" ng-model="necesidadContratacionDocente.necesidad.Objeto" placeholder="Objeto de la Necesidad" required></textarea>
            </div>

            <div class="form-group">
              <small>*{{"OBLIGATORIO" | translate}}</small><br>
              <label for="justificacion" class="control-label">{{"JUSTIFICACION_NECESIDAD" | translate}}</label>
              <textarea type="text" class="form-control" rows="6" maxlength="600" ng-model="necesidadContratacionDocente.necesidad.Justificacion" placeholder="Justificación de la Necesidad" required></textarea>
            </div>

          </div>
        </fieldset>

        <!-- Marco legal -->
        <fieldset class="form-group">
          <legend class="text-primary" ng-click="necesidadContratacionDocente.validar_formu(null, 3)">
            {{"MARCO_LEGAL" | translate}}<span class="fa fa-plus pull-right" ng-show="!info_legal"></span> <span class="fa fa-minus pull-right" ng-show="info_legal"></span></legend>

          <div class="panel-body" ng-show="info_legal">
            <lista-documentos-legales class="col-md-6" documentos="necesidadContratacionDocente.documentos"></lista-documentos-legales>
            <div class="col-md-6 form-group">
              <h4>{{"DOCUMENTOS" | translate}}</h4>
              <ul class="list-group">
                <li class="list-group-item" ng-repeat="doc in necesidadContratacionDocente.documentos track by $index">
                  <label><span class="text-info">{{$index+1}}. </span>{{doc.NombreDocumento}}</label>
                  <a href="{{doc.Enlace}}" class="pull-right">{{"ENLACE" | translate}}</a>
                </li>
              </ul>
            </div>
          </div>
        </fieldset>


        <!-- Financiación -->
        <fieldset class="form-group">
          <legend class="text-primary" ng-click="info_finan=!info_finan">{{"FINANCIACION" | translate}}<span class="fa fa-plus pull-right" ng-show="!info_finan"></span> <span class="fa fa-minus pull-right" ng-show="info_finan"></span></legend>

          <div class="panel-body" ng-show="info_finan">

            <div class="form-group">
              <small>*{{"OBLIGATORIO" | translate}}</small><br>
              <label class=" control-label">{{"TIPO_FINANCIACION" | translate}}</label>
              <span class="form-control">{{"FUNCIONAMIENTO" | translate}}</span>
            </div>

            <div class="form-group">
              <label class=" control-label">{{"SELECCIONAR" | translate}} {{"APROPIACIONES" | translate}}</label>



              <div class="panel panel-body col-md-12">

                <div class="form-group">
                  <lista-apropiaciones vigencia=necesidadContratacionDocente.vigencia tipo="'3-1'" apropiacion="apro" unidadejecutora=necesidadContratacionDocente.necesidad.UnidadEjecutora tipofinanciacion=necesidadContratacionDocente.necesidad.TipoFinanciacionNecesidad selhijos="true"></lista-apropiaciones>
                  <center>
                    <button type="button" class="btn btn-success btn-outline" ng-click="necesidadContratacionDocente.agregar_ffapropiacion(apro)">
                      {{"AGREGAR" | translate}}
                    </button>
                  </center>
                </div>

                <div class="form-group">
                  <div>
                    <ul class="list-group">
                      <div>
                        <li class="list-group-item" ng-repeat="ap in necesidadContratacionDocente.f_apropiacion_fun">
                          <label><span class="text-success">{{$index+1}}.</span> {{ap.aprop.Rubro.Nombre}}</label>
                          <button type="button" class="btn btn-danger btn-sm col-md-offset-11" ng-click="necesidadContratacionDocente.eliminarRubro(ap)" aria-label="Left Align">
                            <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                          </button>
                          <br>
                          <label class="text-info">{{"VALOR_SOLICITADO" | translate}}</label>
                          <input type="text" ng-model="ap.MontoParcial" ui-money-mask="0">
                          <br>
                          <span class="fa ">
                        </li>
                      </div>
                    </ul>
                  </div>
                </div>

                <div class="form-group">
                  <label>{{"TOTAL_FINANCIACION" | translate}} </label> {{necesidadContratacionDocente.valor_fun | currency}} <br>
                </div>
              </div>
            </div>
          </div>
        </fieldset>
        <fieldset>
          <center>
            <input type="submit" class="btn btn-success btn-outline " name="button" value="REGISTRAR"/>
          </center>
        </fieldset>
      </form>
    </div>
  </div>
</div>
</html>